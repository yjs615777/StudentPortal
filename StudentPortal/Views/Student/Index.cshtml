@using System.Linq
@model IEnumerable<StudentPortal.Contracts.Responses.StudentResponse>
@{
}
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8" />
    <title>학생 조회</title>
    <meta name="viewport" content="width=1440, initial-scale=1" />
    <!-- Inter 폰트 -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@700;500&display=swap" rel="stylesheet">
    <style>
        /* 화면 프레임: 1440 x 1071 */
        html, body {
            height: 100%;
            margin: 0;
            background: #fff;
        }

        .stage {
            position: relative;
            width: 1440px;
            height: 1071px;
            margin: 0 auto; /* 좌우 중앙 */
            background: #fff;
        }

        /* Student Portal: 좌표 X61 Y48, 64px Bold Inter, 검정 */
        .title-main {
            position: absolute;
            left: 61px;
            top: 48px;
            margin: 0;
            font-family: 'Inter', system-ui, sans-serif;
            font-size: 64px;
            font-weight: 700;
            line-height: 1.1;
            color: #000;
        }
            /* Student Portal링크 보라색+밑줄생김 방지 */
            .title-main a.title-link {
                color: inherit;
                text-decoration: none;
            }

        /* 학생정보: (title에서) H49 아래, 64px Bold Inter, 검정 */
        /* 해석: title의 아래로 49px 하단 여백을 주고 배치 */
        .title-section {
            position: absolute;
            left: 61px;
            top: 174px; /* 48 + 49 */
            margin: 0;
            font-family: 'Inter', system-ui, sans-serif;
            font-size: 64px;
            font-weight: 700;
            line-height: 1.1;
            color: #000;
        }

        /* 구분선: 학생정보에서 H83 아래, 가로 1319px, 화면 가운데 정렬(수평 중앙) */
        .divider {
            position: absolute;
            top: 334px; /* 97 + 83 */
            left: 50%;
            transform: translateX(-50%);
            width: 1319px;
            height: 1px;
            background: #000;
        }

        .header-row {
            position: absolute;
            top: 265px;
            left: 553px;
            display: grid;
            grid-template-columns: 80px 220px 120px 200px; /* 번호 | 이름 | 나이 | 액션자리(고정폭) */
            column-gap: 60px; /* 가로 간격 60px */
            align-items: end;
            font-family: 'Inter',system-ui,sans-serif;
            font-size: 36px;
            font-weight: 700;
            color: #000;
        }

        /*  추가 버튼 */
        .btn-add {
            position: absolute;
            width: 109px;
            height: 76px;
            left: 1271px;
            top: 174px;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px 32px;
            gap: 8px;
            background: #1491FF;
            box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.05);
            border-radius: 8px;
            color: #fff;
            font-family: 'Inter', system-ui, sans-serif;
            font-size: 24px;
            font-weight: 500;
            text-decoration: none;
        }
        /* 학생 목록 */
        /* 리스트가 시작될 좌표(예: 헤더 아래 360px) */
        .student-list {
            position: absolute;
            left: 578px;
            top: 360px;
            width: 1000px;
        }

        /* 행은 절대좌표 금지! Grid만 */
        .student-row {
            display: grid;
            grid-template-columns: 80px 220px 120px 200px; /* 헤더와 동일 고정폭 */
            column-gap: 50px;
            align-items: center;
            height: 60px;
            border-bottom: none; /* 테두리 지움 */
            position: relative; /* 가짜 선의 기준점 */
            font-family: 'Inter', system-ui, sans-serif;
            font-size: 28px;
            font-weight: 500;
            color: #000;
        }

            /* 행 아래 “가짜 선” — 삭제 버튼 끝까지만 */
            .student-row::after {
                content: "";
                position: absolute;
                left: 0;
                bottom: 0;
                width: calc(80px + 50px + 220px + 50px + 120px + 50px + 200px); /* = 770px */
                height: 1px;
                background: #ddd;
            }



        /* 보기 확인용(임시): 각 셀 테두리 표시해서 60px 간격이 실제로 적용되는지 체크 */
        .header-row > div {
            white-space: nowrap;
            /* border: 1px dashed #0bf; */ /* 필요하면 주석 해제 */
        }

        /* 수정 / 삭제 버튼 */
        .btn-edit, .btn-delete {
            width: 63px;
            height: 44px;
            display: inline-flex;
            justify-content: center;
            align-items: center;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-size: 16px;
            color: #fff;
            text-decoration: none;
            font-family: 'Inter', system-ui, sans-serif;
        }

        .btn-edit {
            background: #1491FF;
            margin-right: 8px;
        }

        .btn-delete {
            background: #FF3B30;
        }

    </style>
</head>
<body>
    <div class="stage">
        <h1 class="title-main">
            <a asp-controller="Landing" asp-action="Index" class="title-link">Student Portal</a>
        </h1>

        <h2 class="title-section">학생정보</h2>

        <div class="divider"></div>

        <div class="header-row">
            <div class="num">번호</div>
            <div>이름</div>
            <div>나이</div>
            <div></div>
        </div>
        <!--  추가 버튼 -->
        <a asp-controller="Student" asp-action="Create" class="btn-add">추가</a>
        <!-- DB에서 불러온 학생 출력 -->
        <div class="student-list">
            @foreach (var s in Model.OrderBy(x => x.Id))
            {
                <div class="student-row">
                    <div class="num">@s.Id</div>
                    <div>@s.Name</div>
                    <div>@s.Age</div>
                    <div class="actions">
                        <a asp-action="Edit" asp-route-id="@s.Id" class="btn-edit">수정</a>
                        <form asp-action="Delete" asp-route-id="@s.Id" method="post" style="display:inline;">
                            @Html.AntiForgeryToken()
                            <button type="submit" class="btn-delete" onclick="return confirm('정말 삭제할까요?');">삭제</button>
                        </form>
                    </div>
                </div>
            }
        </div>
    </div>
</body>
</html>
